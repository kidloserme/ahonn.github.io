---
title: SICP 之构造过程抽象
date: 2016-07-02 21:10:16
tags:
  - SICP
  - Scheme
---

## 前言
买了近一年的《计算机程序的构造和解释》（Structure and Interpretation of Computer Programs，俗称 SICP），到现在也只是看过一两章。现在连前两章讲的内容都忘记了。趁着这个暑假晚上一个人，把这本书看一遍。顺带着在博客上写写笔记。

### 关于 Scheme
Scheme 是一种 Lisp 方言，在这本书中将会使用该语言来描述。Lisp 是一种历史第二悠久的编程语言，也是一种函数式编程语言。具体信息见：[Lisp - wikipedia](https://zh.wikipedia.org/wiki/LISP)。

<!-- more -->

## 程序设计的基本元素
> 一个强有力的程序设计语言，不仅是一种指挥计算机执行任务过程的方式，它还应该成为一种框架，使我们能够在其中组织自己有关计算过程的思想。

每种强有力的语言都会提供三种机制：
- 基本的表达形式
- 组合的方法
- 抽象的方法

### 表达式

可以输入的一种最基本的表达式就是数，即由数字组成的表达式，它表示的是以10为基数的数。可以使用基本的过程表达形式将表达数的表达数组合起来，形成符合表达式，即组合式。

``` scheme
(+ 137 349)
486

(* 5 100 2)
100
```

scheme 使用的这种将所有运算符放在左边的形式称为前缀表达式。与常规的中缀表达数不同，前缀表达式使用于可能带有任意个实参的过程，同时它还可以直接扩充，可以出现组合式嵌套的形式。

``` scheme
(+ (* 3 5) (- 10 6))
19
```

这样就可以讲组合式本身当成元素提供给另外一个组合式，这样就有了组合的方式了。

### 命名和环境
程序设计语言中必不可少的就是提供对计算对象命名的方式，即拥有变量的概念。

在 scheme 中，给事物命名通过 `define` 来完成，即：
``` scheme
(define size 2)

size
2
```

也就是说可以通过 `define 名字 表达式` 的方式来将名字与表达式关联。这里的 define 即是一种抽象的方法，将表达式抽象出一个名称。

> 实际上，构造一个复杂的程序，也就是为了去一步步地创建出越来越复杂的计算性对象。解释器使得这种逐步的程序构建过程变得非常方便，因为我们可以通过一系列交互式动作，逐步创建起所需要的名字-对象关联。

将值与符号关联，又能够获取这些值，就是说解释器需要去维护某种储存能力，以便保持值与符号的联系。这种存储称之为环境。

### 组合式的求值

对组合式求值需要以下步骤：
- 求值该组合式的各个子表达式
- 将运算符应用于相应的其他子表达式的值

将每个子表达式看成一棵树，表达式中的各个部分为树的子叶，表达式的值为树的根。接着讲子表达式组合在一起形成一颗大树，该树的根即为这个组合式的值。计算过程以递归的形式“值向上穿行”，这种计算过程称为树形积累。

``` scheme
(* (+ 5 1) (- 4 2))

             12
          /   |   \
        *    6      2
           / | \  / | \
          +  5 1 -  4  2
```


未完待续...
